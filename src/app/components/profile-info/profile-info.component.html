<div class="form-container">
  <form (ngSubmit)="saveProfileChanges()">
    <h2 class="text-3xl font-display font-bold text-primary mb-2 text-center">Informations du Profil</h2>
    <p class="text-gray-600 text-center mb-6">Mettez à jour vos informations personnelles</p>
    @if (isLoading()) {
      <div class="flex justify-center py-4">
        <p class="text-gray-500">Chargement...</p>
      </div>
    } @else {
      <div class="space-y-5">
        <div class="input-wrapper">
          <input id="first-name" [(ngModel)]="editForm.firstName" name="firstName" class="input-field" placeholder=" " />
          <label for="first-name" class="floating-label">Prénom</label>
          <div *ngIf="editForm.firstName === '' && isFormSubmitted" class="error-message">Prénom requis</div>
        </div>
        <div class="input-wrapper">
          <input id="last-name" [(ngModel)]="editForm.lastName" name="lastName" class="input-field" placeholder=" " />
          <label for="last-name" class="floating-label">Nom</label>
          <div *ngIf="editForm.lastName === '' && isFormSubmitted" class="error-message">Nom requis</div>
        </div>
        <div class="input-wrapper">
          <input id="email" [(ngModel)]="editForm.email" name="email" class="input-field" placeholder=" " disabled />
          <label for="email" class="floating-label">Email</label>
        </div>
        <div class="input-wrapper">
          <input id="phone" [(ngModel)]="editForm.phone" name="phone" class="input-field" placeholder=" " />
          <label for="phone" class="floating-label">Téléphone</label>
          <div *ngIf="editForm.phone === '' && isFormSubmitted" class="error-message">Téléphone requis</div>
        </div>
        @if (errorMessage()) {
          <p class="error-message">{{ errorMessage() }}</p>
        }
        <div class="flex justify-end space-x-2 mt-6">
          <button type="button" (click)="loadUserProfile()" class="btn-secondary">Annuler</button>
          <button type="submit" class="btn-primary" [disabled]="isLoading()">Enregistrer</button>
        </div>
      </div>
    }
  </form>
</div>